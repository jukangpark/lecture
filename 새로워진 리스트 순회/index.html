<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>새로워진 리스트 순회</title>
  </head>
  <body>
    <script>
      /*
      ------------------------------------------------------------------------
        이터레이션 프로토콜이란?

        es6에서 부터 달라진 순회
        데이터 소비자 (Data consumer) 인 for ...of 문, spread 문법 등은
        이터레이션 프로토콜을 준수하는 이터러블에서 사용이 가능하다.
        즉 이터러블은 (Data Provider) 의 역할을 한다.
        즉 이터레이션 프로토콜은 다양한 데이터 소스가 하나의 순회 방식을 가지도록 규정하여,
        소비자가 효율적으로 다양한 데이터 소스를 사용할 수 있도록
        데이터 소비자와 데이터 소스를 연결하는 인터페이스의 역할을 한다.
      */

      /*
      ------------------------------------------------------------------------
        이터러블이란? : 이터레이터를 리턴하는 [Symbol.iterator]() 를 가진 값

        이터러블 프로토콜을 준수한 객체를 이터러블이라고 부른다.
        이터러블은 Symbol.iterator 메서드를 구현하거나,
        또는 프로토타입 체인에 의해 상속한 객체를 말한다.
        예를 들어 배열은 Symbol.iterator 메서드를 Array.prototype 에 의해 상속받아
        소유하고 있기 때문에, 이터러블 프로토콜을 준수하는 이터러블이다.

        es6 에서 제공하는 빌트인 이터러블
        Array, String, Map, Set, DOM data structure(NodeList, HTMLCollection), Arguments

      ------------------------------------------------------------------------
        이터레이터란? : {value, done} 객체를 리턴하는 next() 를 가진 값

        이터러블 프로토콜을 준수한 이터러블은 Symbol.iterator 메소드를 소유한다. 
        이 메소드를 호출하면 이터레이터를 반환한다. 
        이터레이터 프로토콜을 준수한 이터레이터는 next 메소드를 갖는다.
      */

      // 배열은 이터러블 프로토콜을 준수한 이터러블이다.
      const array = [1, 2, 3];

      // Symbol.iterator 메소드는 이터레이터를 반환한다.
      const iterator = array[Symbol.iterator]();

      // 이터레이터 프로토콜을 준수한 이터레이터는 next 메소드를 갖는다.
      console.log("next" in iterator); // true

      console.log(iterator.next()); // {value: 1, done: false}
      console.log(iterator.next()); // {value: 2, done: false}
      console.log(iterator.next()); // {value: 3, done: false}
      console.log(iterator.next()); // {value: undefined, done: true}

      // 이터레이터의 next 메서드를 호출하면 value, done 을 프로퍼티로 갖는 (iterator result) 객체를 반환한다.
      // 이터렐이터의 next 메서드는 이터러블의 각 요소를 순쇠하기 위한 포인터의 역할이다.
      // next 메서드를 호출하면 이터러블은 순차적으로 한 단계 씩 순회하며 이터레이터 객체를 반환한다.
    </script>
  </body>
</html>
